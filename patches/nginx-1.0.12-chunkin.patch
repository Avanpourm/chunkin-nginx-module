diff -ur nginx-1.0.12/src/http/ngx_http_request_body.c nginx-1.0.12-patched/src/http/ngx_http_request_body.c
--- nginx-1.0.12/src/http/ngx_http_request_body.c	2012-03-06 17:22:29.989136700 +0800
+++ nginx-1.0.12-patched/src/http/ngx_http_request_body.c	2012-03-06 17:20:25.549263526 +0800
@@ -16,6 +16,9 @@
     ngx_chain_t *body);
 static ngx_int_t ngx_http_read_discarded_request_body(ngx_http_request_t *r);
 static ngx_int_t ngx_http_test_expect(ngx_http_request_t *r);
+extern ngx_int_t
+    ngx_http_chunkin_read_chunked_request_body(ngx_http_request_t *r,
+    ngx_http_client_body_handler_pt post_handler);
 
 
 /*
@@ -37,6 +40,10 @@
     ngx_http_request_body_t   *rb;
     ngx_http_core_loc_conf_t  *clcf;
 
+    if (r->chunked_in) {
+        return ngx_http_chunkin_read_chunked_request_body(r, post_handler);
+    }
+
     r->main->count++;
 
     if (r->request_body || r->discard_body || r->content_length_n == 0) {
diff -ur nginx-1.0.12/src/http/ngx_http_request.c nginx-1.0.12-patched/src/http/ngx_http_request.c
--- nginx-1.0.12/src/http/ngx_http_request.c	2012-03-06 17:22:29.989136700 +0800
+++ nginx-1.0.12-patched/src/http/ngx_http_request.c	2012-03-06 17:20:25.550260942 +0800
@@ -1558,6 +1558,7 @@
         }
     }
 
+#if 0
     if (r->method & NGX_HTTP_PUT && r->headers_in.content_length_n == -1) {
         ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,
                   "client sent %V method without \"Content-Length\" header",
@@ -1565,6 +1566,7 @@
         ngx_http_finalize_request(r, NGX_HTTP_LENGTH_REQUIRED);
         return NGX_ERROR;
     }
+#endif
 
     if (r->method & NGX_HTTP_TRACE) {
         ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,
@@ -1577,10 +1579,10 @@
         && ngx_strcasestrn(r->headers_in.transfer_encoding->value.data,
                            "chunked", 7 - 1))
     {
-        ngx_log_error(NGX_LOG_INFO, r->connection->log, 0,
-                      "client sent \"Transfer-Encoding: chunked\" header");
-        ngx_http_finalize_request(r, NGX_HTTP_LENGTH_REQUIRED);
-        return NGX_ERROR;
+        r->chunked_in = 1;
+
+    } else {
+        r->chunked_in = 0;
     }
 
     if (r->headers_in.connection_type == NGX_HTTP_CONNECTION_KEEP_ALIVE) {
diff -ur nginx-1.0.12/src/http/ngx_http_request.h nginx-1.0.12-patched/src/http/ngx_http_request.h
--- nginx-1.0.12/src/http/ngx_http_request.h	2012-03-06 17:22:29.991136560 +0800
+++ nginx-1.0.12-patched/src/http/ngx_http_request.h	2012-03-06 17:20:25.550260942 +0800
@@ -496,6 +496,7 @@
 
     unsigned                          pipeline:1;
     unsigned                          plain_http:1;
+    unsigned                          chunked_in:1;
     unsigned                          chunked:1;
     unsigned                          header_only:1;
     unsigned                          keepalive:1;
